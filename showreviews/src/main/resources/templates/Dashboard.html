<!DOCTYPE html>
<html xmlns:th="http://thymeleaf.org">
	<head>
		<title>Dashboard</title>
		<style>
			body{
				background-color: grey;
			}
			
			.movieContainer{
				margin: 20px 100px 100px 100px;
				background-color: white;
				border: 5px solid black;
				padding-left: 20px;
			}
			
			h1{
				text-align:center;
			}
			
			h3{
				text-align:center;
			}
			
			.listContainer{
				display: flex;
			}
			
			.movieList{
				flex: 1;
			}
			
			.tvList{
				flex: 1;
			}
			
			table{
			 margin-left: auto;
			 margin-right: auto;
			}
		</style>
	</head>
	
	<body>
		<div class="movieContainer">
		 <h1>Dashboard</h1>
			<form action="/movie" method="post">
					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
					<div>
						movie name: <input type="text" th:field="${movie.name}" />
					</div>
					<div>
						movie rating: <input type="text" th:field="${movie.rating}" />
					</div>
					<div>
						Date of watch: <input type="date" name="dateofwatch" />
					</div>
					<button type="submit">submit</button>
					<hr/>
			</form>
			
			<form action="/tvshow" method="post">
					<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
					<div>
						series name: <input type="text" th:field="${tvshow.name}" />
					</div>
					<div>
						series rating: <input type="text" th:field="${tvshow.rating}" />
					</div>
					<div>
						Date of watch: <input type="date" name="dateofwatch" />
					</div>
					<div>
						Season: <input type="number" th:field="${tvshow.season}" />
					</div>
					<div>
						episode: <input type="number" th:field="${tvshow.episode}" />
					</div>
					<button type="submit">submit</button>
					<hr/>
			</form>
				<div class="listContainer">
				  <div class="movieList">
				  <h3> List of Movies</h3>
					<table border="1">
						<tr>
							<th>Name</th>
							<th>Rating</th>
							<th>date of watch</th>
						</tr>
						<tr th:each="movieItem: ${movieList}">
							<th><a th:href="@{/{userId}/movie/{movieId}(movieId=${movieItem.id}, userId=${user.id})}">[[${movieItem.name}]]</a></th>
							<th th:text="${movieItem.rating}"></th>
							<th th:text="${movieItem.date}"></th>
						</tr>
					</table>
				  </div>
				  
				  <div class="tvList">
				  <h3> List of TvShows</h3>
					<table border="1">
						<tr>
							<th>Name</th>
							<th>Rating</th>
							<th>date of watch</th>
							<th>season</th>
							<th>episode</th>
						</tr>
						<tr th:each="tvList: ${tvList}">
							<th><a th:href="@{/{userId}/tvshow/{tvId}(tvId=${tvList.id}, userId=${user.id})}">[[${tvList.name}]]</a></th>
							<th th:text="${tvList.rating}"></th>
							<th th:text="${tvList.date}"></th>
							<th th:text="${tvList.season}"></th>
							<th th:text="${tvList.episode}"></th>
						</tr>
					</table>
				   </div>
				</div>
			<form method="post" action="/logout">
				<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
				<button type="submit">logout</button>
			</form>
		</div>
	</body>
</html>